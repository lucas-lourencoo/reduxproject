{"ast":null,"code":"import produce from 'immer';\nconst INITIAL_STATE = {\n  items: []\n};\n\nconst cart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, draft => {\n    switch (action.type) {\n      case 'ADD_PRODUCT_TO_CART':\n        {\n          const {\n            product\n          } = action.payload;\n          const productInCartIndex = draft.items.findIndex(item => item.product.id === product.id);\n\n          if (productInCartIndex >= 0) {\n            draft.items[productInCartIndex].quantity++;\n          } else {\n            draft.items.push({\n              product,\n              quantity: 1\n            });\n          }\n\n          break;\n        }\n\n      default:\n        {\n          return draft;\n        }\n    }\n  });\n};\n\nexport default cart;","map":{"version":3,"names":["produce","INITIAL_STATE","items","cart","state","action","draft","type","product","payload","productInCartIndex","findIndex","item","id","quantity","push"],"sources":["/Users/lucas/Documents/SITEZINHOS/reduxproject/src/store/modules/cart/reducer.ts"],"sourcesContent":["import { Reducer } from 'redux';\nimport produce from 'immer';\nimport { ICartState } from './types';\n\nconst INITIAL_STATE: ICartState = {\n  items: [],\n};\n\nconst cart: Reducer<ICartState> = (state = INITIAL_STATE, action) => {\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case 'ADD_PRODUCT_TO_CART': {\n        const { product } = action.payload;\n\n        const productInCartIndex = draft.items.findIndex(\n          (item) => item.product.id === product.id\n        );\n\n        if (productInCartIndex >= 0) {\n          draft.items[productInCartIndex].quantity++;\n        } else {\n          draft.items.push({\n            product,\n            quantity: 1,\n          });\n        }\n\n        break;\n      }\n      default: {\n        return draft;\n      }\n    }\n  });\n};\nexport default cart;\n"],"mappings":"AACA,OAAOA,OAAP,MAAoB,OAApB;AAGA,MAAMC,aAAyB,GAAG;EAChCC,KAAK,EAAE;AADyB,CAAlC;;AAIA,MAAMC,IAAyB,GAAG,YAAmC;EAAA,IAAlCC,KAAkC,uEAA1BH,aAA0B;EAAA,IAAXI,MAAW;EACnE,OAAOL,OAAO,CAACI,KAAD,EAASE,KAAD,IAAW;IAC/B,QAAQD,MAAM,CAACE,IAAf;MACE,KAAK,qBAAL;QAA4B;UAC1B,MAAM;YAAEC;UAAF,IAAcH,MAAM,CAACI,OAA3B;UAEA,MAAMC,kBAAkB,GAAGJ,KAAK,CAACJ,KAAN,CAAYS,SAAZ,CACxBC,IAAD,IAAUA,IAAI,CAACJ,OAAL,CAAaK,EAAb,KAAoBL,OAAO,CAACK,EADb,CAA3B;;UAIA,IAAIH,kBAAkB,IAAI,CAA1B,EAA6B;YAC3BJ,KAAK,CAACJ,KAAN,CAAYQ,kBAAZ,EAAgCI,QAAhC;UACD,CAFD,MAEO;YACLR,KAAK,CAACJ,KAAN,CAAYa,IAAZ,CAAiB;cACfP,OADe;cAEfM,QAAQ,EAAE;YAFK,CAAjB;UAID;;UAED;QACD;;MACD;QAAS;UACP,OAAOR,KAAP;QACD;IArBH;EAuBD,CAxBa,CAAd;AAyBD,CA1BD;;AA2BA,eAAeH,IAAf"},"metadata":{},"sourceType":"module"}